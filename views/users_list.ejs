<!doctype html>
<!-- views/users_list.ejs - Display a table of registered users (no passwords) -->
<html>
  <head>
    <title>Registered users - <%= shopData.shopName %></title>
    <link rel="stylesheet"  type="text/css" href="/main.css" />
    <style>
      table.users-list { border-collapse: collapse; width: 80%; max-width: 900px; }
      table.users-list th, table.users-list td { border: 1px solid #ddd; padding: 8px; }
      table.users-list th { background: #f7f7f7; text-align: left; }
    </style>
  </head>
  <body>
    <h1><%= shopData.shopName %></h1>
    <h2>Registered Users</h2>

    <% if (users && users.length) { %>
      <table class="users-list">
        <thead>
          <tr>
            <th>Username</th>
            <th>First name</th>
            <th>Last name</th>
            <th>Email</th>
          </tr>
        </thead>
        <tbody>
          <% users.forEach(function(u){ %>
            <tr>
              <td><%= u.username %></td>
              <td><%= u.first_name %></td>
              <td><%= u.last_name %></td>
              <td><%= u.email %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    <% } else { %>
      <p>No users registered yet.</p>
    <% } %>

    <p><a href="/">Home</a> | <a href="/users/register">Register</a> | <a href="/books/list">Books</a></p>
  </body>
</html>
